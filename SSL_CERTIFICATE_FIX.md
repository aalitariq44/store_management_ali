# ุญู ูุดููุฉ ุดูุงุฏุงุช SSL ูุฌููุน ุงููุณุฎ - Universal SSL Certificate Fix

## ุงููุดููุฉ
```
CERTIFICATE_VERIFY_FAILED: unable to get local issuer certificate
```

ูุฐุง ุงูุฎุทุฃ ูุญุฏุซ ุนูุฏูุง ููุดู ุงูุชุทุจูู ูู ุงูุชุญูู ูู ุดูุงุฏุฉ SSL ููุฎุงุฏู.

## ุงูุญู ุงููุทุจู - ูุนูู ูู ุฌููุน ุงููุณุฎ

### 1. ุฅุนุฏุงุฏ ุชุฌุงูู ุดูุงุฏุงุช SSL ุงูุนุงู (ูู main.dart)

```dart
/// ุชุฌุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ
class UniversalHttpOverrides extends HttpOverrides {
  @override
  HttpClient createHttpClient(SecurityContext? context) {
    return super.createHttpClient(context)
      ..badCertificateCallback = (X509Certificate cert, String host, int port) {
        // ุชุฌุงูู ุฌููุน ุฃุฎุทุงุก ุงูุดูุงุฏุงุช ูู ูู ุงููุณุฎ
        print('ุชุฌุงูู ุฎุทุฃ ุดูุงุฏุฉ SSL ูููุถูู: $host:$port');
        return true; // ุฏุงุฆูุงู ูุชุฌุงูู ุฃุฎุทุงุก ุงูุดูุงุฏุงุช
      };
  }
}
```

### 2. ุชุทุจูู ุงูุฅุนุฏุงุฏ ูู main()
```dart
// ุชุทุจูู ุชุฌุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ
HttpOverrides.global = UniversalHttpOverrides();
print('ุชู ุชูุนูู ุชุฌุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ');
```

### 3. ุงุณุชุฎุฏุงู SSL Helper ููุทูุจุงุช ุงููุฎุตุตุฉ

```dart
import 'package:store_management_ali/config/ssl_config.dart';

// ูุซุงู ุนูู ุงุณุชุฎุฏุงู GET
final response = await SecureHttpHelper.get(
  Uri.parse('https://your-server.com/api/data'),
  headers: {'Authorization': 'Bearer your-token'},
);

// ูุซุงู ุนูู ุงุณุชุฎุฏุงู POST
final postResponse = await SecureHttpHelper.post(
  Uri.parse('https://your-server.com/api/upload'),
  headers: {'Content-Type': 'application/json'},
  body: json.encode({'key': 'value'}),
);
```

## ุงููููุงุช ุงููุนุฏูุฉ

1. **lib/main.dart**
   - ุฅุถุงูุฉ ูุฆุฉ `UniversalHttpOverrides`
   - ุชุทุจูู ุชุฌุงูู SSL ูู ุฌููุน ุงููุณุฎ
   - ุทุจุงุนุฉ ูุนูููุงุช ุงูุชูููู

2. **lib/config/ssl_config.dart** (ููู ูุญุฏุซ)
   - ูุฆุฉ `SSLConfig` ูุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช SSL ูุฌููุน ุงููุณุฎ
   - ูุฆุฉ `SecureHttpHelper` ููุทูุจุงุช ุงูุขููุฉ
   - ุฏูุงู ูุณุงุนุฏุฉ ููุชุญูู ูู ุญุงูุฉ SSL

3. **lib/utils/ssl_test_helper.dart** (ููู ูุญุฏุซ)
   - ุงุฎุชุจุงุฑุงุช SSL ุชุนูู ูู ุฌููุน ุงููุณุฎ
   - ุฅุฒุงูุฉ ูููุฏ ูุถุน ุงูุชุทููุฑ

4. **pubspec.yaml**
   - ููุชุจุฉ `http` ููุทูุจุงุช ุงููุฎุตุตุฉ

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

โ๏ธ **ุชุญุฏูุซ ููู**: ุชู ุชุนุฏูู ุงูุญู ููุนูู ูู ุฌููุน ุงููุณุฎ!

โ **ูุนูู ูู**:
- ูุถุน ุงูุชุทููุฑ (Debug)
- ูุถุน ุงูุฅูุชุงุฌ (Release)
- ุฌููุน ุฃููุงุน ุงูุจูุงุก

โ **ูุฏุนู**:
- ุฌููุน ุทูุจุงุช HTTP/HTTPS
- ุงุชุตุงูุงุช WebSocket
- ููุชุจุฉ Supabase
- ุฃู ููุชุจุฉ ุชุณุชุฎุฏู HttpClient ุงูุงูุชุฑุงุถู

## ุงุฎุชุจุงุฑ ุงูุญู

1. ูู ุจุชุดุบูู ุงูุชุทุจูู ูู ุฃู ูุถุน:
   ```bash
   flutter run -d windows          # ูุถุน ุงูุชุทููุฑ
   flutter run -d windows --release # ูุถุน ุงูุฅูุชุงุฌ
   ```

2. ุชุญูู ูู ุฑุณุงุฆู ุงูุชุดุฎูุต ูู ูุญุฏุฉ ุงูุชุญูู:
   ```
   ุชู ุชูุนูู ุชุฌุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ
   === ุชูููู SSL ===
   ุชุฌุงูู ุดูุงุฏุงุช SSL: ูุนู
   ูุถุน ุงูุนูู: ุฌููุน ุงููุณุฎ (ุชุทููุฑ + ุฅูุชุงุฌ)
   ==================
   ```

3. ุนูุฏ ูุญุงููุฉ ุงูุงุชุตุงู ุจุฎุงุฏู ุจุดูุงุฏุฉ ุบูุฑ ุตุงูุญุฉ:
   ```
   ุชุฌุงูู ุฎุทุฃ ุดูุงุฏุฉ SSL ูููุถูู: your-server.com:443
   ููุถูุน ุงูุดูุงุฏุฉ: CN=your-server.com
   ูุตุฏุฑ ุงูุดูุงุฏุฉ: CN=Self-Signed Certificate
   ```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ุงุณุชูุฑ ุงูุฎุทุฃ:
1. ุชุฃูุฏ ูู ุฃู ุชู ุชุทุจูู ุงูุชุนุฏููุงุช ุจุดูู ุตุญูุญ
2. ุชุญูู ูู ุธููุฑ ุฑุณุงุฆู SSL ูู ูุญุฏุฉ ุงูุชุญูู
3. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู ุจุนุฏ ุงูุชุนุฏููุงุช

### ููุชุญูู ูู ุญุงูุฉ SSL ุจุฑูุฌูุงู:
```dart
import 'package:store_management_ali/config/ssl_config.dart';

if (SSLConfig.isSSLBypassEnabled()) {
  print('ุชุฌุงูู SSL ููุนู');
} else {
  print('ุชุฌุงูู SSL ุบูุฑ ููุนู');
}
```

### ูุงุฎุชุจุงุฑ ุงูุงุชุตุงู:
```dart
import 'package:store_management_ali/utils/ssl_test_helper.dart';

// ุทุจุงุนุฉ ุญุงูุฉ SSL
SSLTestHelper.printSSLConfiguration();

// ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
await SSLTestHelper.testLocalConnection();
```

## ุจูุงุก ููุฅูุชุงุฌ

ูุน ุงูุชุญุฏูุซ ุงูุฌุฏูุฏุ ุณูุนูู ุชุฌุงูู SSL ูู ุฌููุน ุงููุณุฎ:
- โ ูุณุฎุฉ ุงูุชุทููุฑ (Debug)
- โ ูุณุฎุฉ ุงูุฅูุชุงุฌ (Release)
- โ ุฌููุน ุฃููุงุน ุงูุจูุงุก

```bash
flutter build windows --release  # ุณูุนูู ูุน ุชุฌุงูู SSL
flutter build apk --release      # ุณูุนูู ูุน ุชุฌุงูู SSL
```

## ููุงุญุธุงุช ูููุฉ

โ๏ธ **ุชูุจูู**: 
- ูุฐุง ุงูุญู ูุชุฌุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ
- ููุงุณุจ ููุชุทุจููุงุช ุงูุชู ุชุชุนุงูู ูุน ุฎูุงุฏู ูุญููุฉ ุฃู ุดูุงุฏุงุช self-signed
- ูุญู ูุดููุฉ `CERTIFICATE_VERIFY_FAILED` ููุงุฆูุงู

๐ง **ููุงุฆุฏ ุงูุญู**:
- โ ูุนูู ูู ุฌููุน ุงููุณุฎ
- โ ูุง ุญุงุฌุฉ ูุชุบููุฑ ุงูููุฏ ุนูุฏ ุงูุจูุงุก ููุฅูุชุงุฌ
- โ ูุบุทู ุฌููุน ุฃููุงุน ุงูุงุชุตุงูุงุช
- โ ุณูู ุงูุงุณุชุฎุฏุงู ูุงูุตูุงูุฉ

ูุฐุง ุงูุญู ูุญุฏุซ ูุดุงูู ูุญู ูุดุงูู ุดูุงุฏุงุช SSL ูู ุฌููุน ุงููุณุฎ!
